"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[493],{3493:(k,h,o)=>{o.r(h),o.d(h,{TramerQueryResultModule:()=>B});var l=o(9808),u=o(3075),T=o(1664),e=o(5e3),s=o(520),D=o(2340),E=o(4004),H=o(6705);const M=`${D.N.apiUrl}/TramerQueryResult`;let N=(()=>{class r{constructor(t,a){this.http=t,this.authService=a;const d=this.authService.getAuthFromLocalStorage();!d||!d.access_token||(this.httpHeaders=new s.WM({Authorization:`${d.access_token}`}))}getTramerResult(t,a,d){return this.http.get(`${M}/GetTramerResult?queryType=${t}&queryParameter=${a}&newQuery=${d}`,{headers:this.httpHeaders}).pipe((0,E.U)(n=>n))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(s.eN),e.LFG(H.e))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var F=o(4383),y=o(4619),p=o(7322),f=o(7531),v=o(4102),Z=o(508);function S(r,i){1&r&&(e.TgZ(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"h4",21),e._uU(5,"Uyar\u0131"),e.qZA(),e.TgZ(6,"span"),e._uU(7,"Tramer Sorgulamas\u0131nda Hata Olu\u015ftu. L\xfctfen Daha Sonra Tekrar Deneyiniz."),e.qZA()()()()())}function L(r,i){if(1&r&&(e.TgZ(0,"tr",34)(1,"td",26),e._uU(2),e.qZA(),e.TgZ(3,"td",26),e._uU(4),e.qZA(),e.TgZ(5,"td",26),e._uU(6),e.qZA(),e.TgZ(7,"td",26),e._uU(8),e.qZA(),e.TgZ(9,"td",26),e._uU(10),e.qZA()()),2&r){const t=i.$implicit;e.xp6(2),e.Oqu(t.damageDate),e.xp6(2),e.Oqu(t.damageChangePart?"Evet":"Hay\u0131r"),e.xp6(2),e.Oqu(t.damageDefinition),e.xp6(2),e.Oqu(t.damageCurrency),e.xp6(2),e.Oqu(t.damagePrice)}}function P(r,i){if(1&r&&(e.TgZ(0,"div")(1,"div",28)(2,"div",29)(3,"h2",30),e._uU(4,"Hasarlar:"),e.qZA()()(),e.TgZ(5,"table",31)(6,"thead")(7,"tr",32)(8,"th",26),e._uU(9,"Hasar Tarihi"),e.qZA(),e.TgZ(10,"th",26),e._uU(11,"De\u011fi\u015fen Par\xe7a"),e.qZA(),e.TgZ(12,"th",26),e._uU(13,"Hasar A\xe7\u0131klamas\u0131"),e.qZA(),e.TgZ(14,"th",26),e._uU(15,"Hasar Cinsi"),e.qZA(),e.TgZ(16,"th",26),e._uU(17,"Hasar Fiyat\u0131"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,L,11,5,"tr",33),e.qZA()()()),2&r){const t=e.oxw(2);e.xp6(19),e.Q6J("ngForOf",t.tramerResult.damages)}}function $(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",22)(1,"a",23),e.NdJ("click",function(){e.CHM(t);const d=e.oxw();return e.KtG(d.copy())}),e._UZ(2,"span",24),e.qZA(),e.TgZ(3,"table",25)(4,"tbody")(5,"tr")(6,"td",26),e._uU(7,"\u015easi Numaras\u0131"),e.qZA(),e.TgZ(8,"td",26),e._uU(9),e.qZA()(),e.TgZ(10,"tr")(11,"td",26),e._uU(12,"Ara\xe7 Bilgisi"),e.qZA(),e.TgZ(13,"td",26),e._uU(14),e.qZA()(),e.TgZ(15,"tr")(16,"td",26),e._uU(17,"Sorgu Tarihi"),e.qZA(),e.TgZ(18,"td",26),e._uU(19),e.ALo(20,"date"),e.qZA()(),e.TgZ(21,"tr")(22,"td",26),e._uU(23,"Hasar Adeti"),e.qZA(),e.TgZ(24,"td",26),e._uU(25),e.qZA()(),e.TgZ(26,"tr")(27,"td",26),e._uU(28,"Toplam Hasar Fiyat\u0131"),e.qZA(),e.TgZ(29,"td",26),e._uU(30),e.qZA()()()(),e.YNc(31,P,20,1,"div",27),e.qZA()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("inlineSVG","./assets/media/icons/duotune/general/gen054.svg"),e.xp6(7),e.Oqu(t.tramerResult.chassisNumber),e.xp6(5),e.Oqu(t.tramerResult.vehicle),e.xp6(5),e.Oqu(e.xi3(20,7,t.tramerResult.tramerQueryDate,"short")),e.xp6(6),e.hij("",t.tramerResult.totalDamageCount," "),e.xp6(5),e.hij("",t.tramerResult.totalDamagePrice," "),e.xp6(1),e.Q6J("ngIf",t.tramerResult.damages)}}let J=(()=>{class r{constructor(t,a,d,n){this.tramerService=t,this.cdr=a,this.toastr=d,this.formBuilder=n,this.TramerQueryTypeEnum=T.s,this.TramerQueryTypeLabelMapping=T.S,this.isNonTramerResult=!1,this.tramerForm=this.formBuilder.group({selectedQueryType:[,u.kI.required],queryParameter:["",u.kI.required],newQuery:[!1,u.kI.required]})}ngOnInit(){}onSubmit(){if(this.tramerForm.invalid)return void this.toastr.error("L\xfctfen b\xfct\xfcn alanlar\u0131 doldurun.");const{selectedQueryType:t,queryParameter:a,newQuery:d}=this.tramerForm.value;this.tramerService.getTramerResult(t,a,d).subscribe(n=>{null!=n.data?(this.tramerResult=n.data,this.tramerData=n.data,this.tramerDamageData=n.data.damages):this.isNonTramerResult=!0,n.messages&&this.toastr.success(n.messages.join(", ")),this.cdr.detectChanges()},n=>{this.toastr.error(n.error.message||"Bir hata ger\xe7ekle\u015fti. L\xfctfen sonra tekrar deneyiniz.")})}copy(){let t=this.tramerData,a=this.tramerDamageData;var d=document.createElement("table"),n=document.createElement("tbody"),C=document.createElement("tr");C.innerHTML=`<td>\u015easi Numaras\u0131</td><td>${t.chassisNumber}</td>`,n.appendChild(C);var Q=document.createElement("tr");Q.innerHTML=`<td>Ara\xe7 Bilgisi</td><td>${t.vehicle}</td>`,n.appendChild(Q);var A=document.createElement("tr");A.innerHTML=`<td>Sorgu Tarihi</td><td>${t.tramerQueryDate}</td>`,n.appendChild(A);var b=document.createElement("tr");b.innerHTML=`<td>Hasar Adeti</td><td>${t.totalDamageCount}</td>`,n.appendChild(b);var x=document.createElement("tr");x.innerHTML=`<td>Toplam Hasar Fiyat\u0131</td><td>${t.totalDamagePrice}</td>`,n.appendChild(x);var q=document.createElement("tr");q.innerHTML="<td></td><td></td>",n.appendChild(q),d.appendChild(n);var g=document.createElement("tbody"),U=document.createElement("tr");U.innerHTML="<th>Hasar Tarihi</th><th>De\u011fi\u015fen Par\xe7a</th><th>Hasar A\xe7\u0131klamas\u0131</th><th>Hasar Cinsi</th><th>Hasar Fiyat\u0131</th>",g.appendChild(U),a.forEach(m=>{var R=document.createElement("tr");R.innerHTML=`<td>${m.damageDate}</td><td>${m.damageChangePart?"Evet":"Hay\u0131r"}</td><td>${m.damageDefinition}</td><td>${m.damageCurrency}</td><td>${m.damagePrice}</td>`,g.appendChild(R)}),d.appendChild(g),document.body.appendChild(d),navigator.clipboard.writeText(d.innerText),d.style.display="none",this.toastr.info("Kopyaland\u0131..")}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(N),e.Y36(e.sBO),e.Y36(F._W),e.Y36(u.qu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-tramer-query-result"]],decls:29,vars:9,consts:[[1,"card"],[1,"card-body"],[3,"formGroup"],[1,"row","pt-3","ps-3"],[1,"col-lg-3","mb-3"],["appearance","fill",1,"example-full-width"],["id","queryType","formControlName","selectedQueryType",3,"ngModel","ngModelChange"],[3,"value"],[1,"col-lg-3","mb-3","fv-row"],["formControlName","queryParameter","type","text","matInput","","name","queryParameter",3,"ngModel","ngModelChange"],[1,"col-lg-3","mb-3",2,"align-self","center"],[1,"form-check","form-switch","form-check-custom"],["formControlName","newQuery","type","checkbox","value","true",1,"form-check-input","ng-valid","ng-dirty","ng-touched"],[1,"form-check-label"],[1,"btn","btn-primary",3,"click"],["class","row",4,"ngIf"],["class","px-5 mb-5",4,"ngIf"],[1,"row"],[1,"col-lg-12","text-center","p-5"],[1,"alert","alert-dismissible","bg-light-danger","border","border-danger","d-flex","flex-column","flex-sm-row","p-5","mb-10",2,"justify-content","space-around"],[1,"d-flex","flex-column","pe-0","pe-sm-10"],[1,"fw-semibold"],[1,"px-5","mb-5"],["title","Kopyala",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","me-2","mt-4","mb-0",3,"click"],[1,"svg-icon","svg-icon-3",3,"inlineSVG"],[2,"width","100%","margin-top","16px","border-collapse","collapse","box-shadow","0 4px 8px rgba(0, 0, 0, 0.1)"],[2,"border","1px solid #dddddd","text-align","left","padding","8px"],[4,"ngIf"],[1,"card-header","cursor-pointer"],[1,"card-title","m-0"],[2,"margin","15px"],[2,"width","100%","border-collapse","collapse","box-shadow","0 4px 8px rgba(0, 0, 0, 0.1)"],[2,"background-color","#f2f2f2"],["style","border: 1px solid #dddddd;",4,"ngFor","ngForOf"],[2,"border","1px solid #dddddd"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"mat-form-field",5)(6,"mat-label"),e._uU(7,"Sorgu Tipi:"),e.qZA(),e.TgZ(8,"mat-select",6),e.NdJ("ngModelChange",function(n){return a.selectedQueryType=n}),e.TgZ(9,"mat-option",7),e._uU(10),e.qZA(),e.TgZ(11,"mat-option",7),e._uU(12),e.qZA()()()(),e.TgZ(13,"div",8)(14,"mat-form-field",5)(15,"mat-label"),e._uU(16,"Sorgu Parametresi"),e.qZA(),e.TgZ(17,"input",9),e.NdJ("ngModelChange",function(n){return a.queryParameter=n}),e.qZA()()(),e.TgZ(18,"div",10)(19,"label",11),e._UZ(20,"input",12),e.TgZ(21,"span",13),e._uU(22,"Yeni Sorgu"),e.qZA()()(),e.TgZ(23,"div",4)(24,"button",14),e.NdJ("click",function(){return a.onSubmit()}),e._uU(25,"Sorgula"),e.qZA()(),e._UZ(26,"hr"),e.qZA()(),e.YNc(27,S,8,0,"div",15),e.YNc(28,$,32,10,"div",16),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("formGroup",a.tramerForm),e.xp6(6),e.Q6J("ngModel",a.selectedQueryType),e.xp6(1),e.s9C("value",a.TramerQueryTypeEnum.ChassisNumber),e.xp6(1),e.Oqu(a.TramerQueryTypeLabelMapping[a.TramerQueryTypeEnum.ChassisNumber]),e.xp6(1),e.s9C("value",a.TramerQueryTypeEnum.PlateNumber),e.xp6(1),e.Oqu(a.TramerQueryTypeLabelMapping[a.TramerQueryTypeEnum.PlateNumber]),e.xp6(5),e.Q6J("ngModel",a.queryParameter),e.xp6(10),e.Q6J("ngIf",a.isNonTramerResult),e.xp6(1),e.Q6J("ngIf",a.tramerResult))},dependencies:[l.sg,l.O5,u._Y,u.Fj,u.Wl,u.JJ,u.JL,u.sg,u.u,y.d$,p.KE,p.hX,f.Nt,v.gD,Z.ey,l.uU]}),r})();var O=o(4521),c=o(8705),w=o(6856),I=o(5245),Y=o(4964);let B=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[l.ez,O.Bz.forChild([{path:"",component:J}]),u.u5,u.UX,s.JF,Y.Z,y.vi,p.lN,f.c,v.LD,I.Ps,c.EC,w.FA,Z.XK,c.Yy,c.K]}),r})()}}]);