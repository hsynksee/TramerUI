"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[53],{1053:(Y,f,t)=>{t.r(f),t.d(f,{UserProfileModule:()=>A});var m=t(9808),s=t(3075),e=t(5e3),c=t(4521),g=t(8208),h=t(6705),w=t(4383),l=t(7322),p=t(7531);function v(r,n){if(1&r&&(e.TgZ(0,"div")(1,"div",21)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),e._uU(7,"Profilim"),e.qZA()()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",24)(11,"div",8)(12,"div",25),e._uU(13,"Ad\u0131"),e.qZA(),e.TgZ(14,"div",26)(15,"span",27),e._uU(16),e.qZA()()(),e.TgZ(17,"div",8)(18,"div",25),e._uU(19,"\u015eirket"),e.qZA(),e.TgZ(20,"div",28)(21,"span",29),e._uU(22),e.qZA()()()(),e.TgZ(23,"div",24)(24,"div",8)(25,"div",25),e._uU(26," Telefon "),e.qZA(),e.TgZ(27,"div",30)(28,"span",31),e._uU(29),e.qZA()()(),e.TgZ(30,"div",8)(31,"div",25),e._uU(32," Email "),e.qZA(),e.TgZ(33,"div",30)(34,"span",31),e._uU(35),e.qZA()()()()()()()()()()),2&r){const o=e.oxw();e.xp6(16),e.Oqu(o.user.name),e.xp6(6),e.Oqu(o.user.companyName),e.xp6(7),e.Oqu(o.user.phoneNumber),e.xp6(6),e.Oqu(o.user.email)}}function P(r,n){1&r&&e._UZ(0,"i",32)}function U(r,n){1&r&&e._UZ(0,"i",33)}function Z(r,n){1&r&&e._UZ(0,"i",32)}function T(r,n){1&r&&e._UZ(0,"i",33)}function N(r,n){1&r&&e._UZ(0,"i",32)}function y(r,n){1&r&&e._UZ(0,"i",33)}let C=(()=>{class r{constructor(o,i,a,u,d,I){this.route=o,this.cdr=i,this.userService=a,this.authService=u,this.fb=d,this.toastr=I,this.hideOldPassword=!0,this.hideNewPassword=!0,this.hideNewPasswordRepeat=!0,this.changePasswordForm=this.fb.group({oldPassword:["",s.kI.required],newPassword:["",s.kI.required],newPasswordRepeat:["",s.kI.required]})}ngOnInit(){this.getUserDetail(this.authService.currentUserValue.id)}onSubmit(){const o=this.changePasswordForm.get("oldPassword").value,i=this.changePasswordForm.get("newPassword").value,a=this.changePasswordForm.get("newPasswordRepeat").value;o&&i&&a?this.userService.changePassword({userId:this.authService.currentUserValue.id,oldPassword:o,newPassword:i,newPasswordRepeat:a}).subscribe(d=>{this.toastr.info(d.messages.join(", "),"Bilgi")},d=>{this.toastr.error(d.message||"Bir hata ger\xe7ekle\u015fti","Hata!")}):this.toastr.warning("L\xfctfen b\xfct\xfcn alanlar\u0131 doldurun.","Eksik Bilgi!")}getUserDetail(o){this.userService.getUserDetail(o).subscribe(i=>{this.user=i.data,this.cdr.detectChanges()},i=>{console.error("Error fetching user detail:",i),this.toastr.error(i.message||"Hata.","Error")})}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(c.gz),e.Y36(e.sBO),e.Y36(g.K),e.Y36(h.e),e.Y36(s.qu),e.Y36(w._W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-user-profile"]],decls:43,vars:11,consts:[[4,"ngIf"],[1,"row",2,"margin-top","100px"],[1,"col-lg-12"],["id","kt_profile_details_view",1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center","cursor-pointer"],[1,"card-title","m-0"],[1,"fw-bold","m-0"],[1,"card-body","p-9"],[1,"row","mb-7"],[3,"formGroup","ngSubmit"],[1,"row","mb-4"],[1,"col-lg-4","mb-3","d-flex","align-items-center"],["appearance","fill",1,"w-100"],["matInput","","formControlName","oldPassword","placeholder","\u015eifre","required","",3,"type"],["matSuffix","",3,"click"],["class","fa fa-eye-slash",4,"ngIf"],["class","fa fa-eye",4,"ngIf"],["matInput","","formControlName","newPassword","placeholder","Yeni \u015eifre","required","",3,"type"],["matInput","","formControlName","newPasswordRepeat","placeholder","Yeni \u015eifre Tekrar","required","",3,"type"],[1,"card-header","cursor-pointer"],[1,"card-body","p-2"],[1,"row"],[1,"col-lg-4"],[1,"btn","btn-sm","btn-danger","align-self-center",3,"click"],[1,"col-lg-6"],[1,"col-lg-4","fw-semibold","text-muted"],[1,"col-lg-8"],[1,"fw-bold","fs-6","text-gray-800"],[1,"col-lg-8","fv-row"],[1,"fw-semibold","text-gray-800","fs-6"],[1,"col-lg-8","d-flex","align-items-center"],[1,"fw-bold","fs-6","text-gray-800","me-2"],[1,"fa","fa-eye-slash"],[1,"fa","fa-eye"]],template:function(o,i){1&o&&(e.YNc(0,v,36,4,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),e._uU(7,"\u015eifreyi De\u011fi\u015ftir"),e.qZA()()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",2)(11,"form",9),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(12,"div",10)(13,"div",11)(14,"mat-form-field",12)(15,"mat-label"),e._uU(16,"\u015eifre"),e.qZA(),e._UZ(17,"input",13),e.TgZ(18,"mat-icon",14),e.NdJ("click",function(){return i.hideOldPassword=!i.hideOldPassword}),e.YNc(19,P,1,0,"i",15),e.YNc(20,U,1,0,"i",16),e.qZA()()(),e.TgZ(21,"div",11)(22,"mat-form-field",12)(23,"mat-label"),e._uU(24,"Yeni \u015eifre"),e.qZA(),e._UZ(25,"input",17),e.TgZ(26,"mat-icon",14),e.NdJ("click",function(){return i.hideNewPassword=!i.hideNewPassword}),e.YNc(27,Z,1,0,"i",15),e.YNc(28,T,1,0,"i",16),e.qZA()()(),e.TgZ(29,"div",11)(30,"mat-form-field",12)(31,"mat-label"),e._uU(32,"Yeni \u015eifre Tekrar"),e.qZA(),e._UZ(33,"input",18),e.TgZ(34,"mat-icon",14),e.NdJ("click",function(){return i.hideNewPasswordRepeat=!i.hideNewPasswordRepeat}),e.YNc(35,N,1,0,"i",15),e.YNc(36,y,1,0,"i",16),e.qZA()()()(),e.TgZ(37,"div",19)(38,"div",20)(39,"div",21),e._UZ(40,"div",22),e.qZA()(),e.TgZ(41,"a",23),e.NdJ("click",function(){return i.onSubmit()}),e._uU(42," Kaydet "),e.qZA()()()()()()()()()),2&o&&(e.Q6J("ngIf",i.user),e.xp6(11),e.Q6J("formGroup",i.changePasswordForm),e.xp6(6),e.Q6J("type",i.hideOldPassword?"password":"text"),e.xp6(2),e.Q6J("ngIf",i.hideOldPassword),e.xp6(1),e.Q6J("ngIf",!i.hideOldPassword),e.xp6(5),e.Q6J("type",i.hideNewPassword?"password":"text"),e.xp6(2),e.Q6J("ngIf",i.hideNewPassword),e.xp6(1),e.Q6J("ngIf",!i.hideNewPassword),e.xp6(5),e.Q6J("type",i.hideNewPasswordRepeat?"password":"text"),e.xp6(2),e.Q6J("ngIf",i.hideNewPasswordRepeat),e.xp6(1),e.Q6J("ngIf",!i.hideNewPasswordRepeat))},dependencies:[m.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,l.KE,l.hX,l.R9,p.Nt]}),r})();var _=t(520),b=t(4619),J=t(7423);let A=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[m.ez,c.Bz.forChild([{path:"",component:C}]),s.u5,s.UX,_.JF,b.vi,l.lN,p.c,J.ot,s.UX]}),r})()}}]);