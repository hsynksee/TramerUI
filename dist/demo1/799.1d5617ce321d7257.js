"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[799],{9807:(v,f,r)=>{r.d(f,{J:()=>h});var c=r(520),a=r(2340),l=r(4004),e=r(5e3),g=r(6705);const u=`${a.N.apiUrl}/Company`;let h=(()=>{class i{constructor(o,p){this.http=o,this.authService=p;const d=this.authService.getAuthFromLocalStorage();!d||!d.access_token||(this.httpHeaders=new c.WM({Authorization:`${d.access_token}`}))}createCompany(o){return this.http.post(`${u}/CreateCompany`,o,{headers:this.httpHeaders})}updateCompany(o){return this.http.put(`${u}/UpdateCompany`,o,{headers:this.httpHeaders})}getCompanies(){return this.http.get(`${u}/GetCompanies`,{headers:this.httpHeaders}).pipe((0,l.U)(o=>o.data))}getCompanyDetail(o){return this.http.get(`${u}/GetCompanyById?id=${o}`,{headers:this.httpHeaders}).pipe((0,l.U)(p=>p))}updateCompanyStatus(o){return this.http.put(`${u}/UpdateCompanyStatus?id=${o}`,null,{headers:this.httpHeaders}).pipe((0,l.U)(p=>p))}}return i.\u0275fac=function(o){return new(o||i)(e.LFG(c.eN),e.LFG(g.e))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},7799:(v,f,r)=>{r.r(f),r.d(f,{CompanyCreateModule:()=>N});var c=r(9808),a=r(3075),l=r(1135),e=r(5e3),g=r(9807),u=r(4383),h=r(4521),i=r(7322),C=r(7531);function o(t,m){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Ad "),e.TgZ(2,"strong"),e._uU(3,"Zorunludur"),e.qZA()())}function p(t,m){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Telefon "),e.TgZ(2,"strong"),e._uU(3,"Zorunludur"),e.qZA()())}function d(t,m){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Vergi Numaras\u0131 "),e.TgZ(2,"strong"),e._uU(3,"Zorunludur"),e.qZA()())}function Z(t,m){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Vergi Adresi "),e.TgZ(2,"strong"),e._uU(3,"Zorunludur"),e.qZA()())}function U(t,m){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Sorgu \xdccreti"),e.TgZ(2,"strong"),e._uU(3,"Zorunludur"),e.qZA()())}function A(t,m){1&t&&(e.ynx(0),e._uU(1,"Kaydet"),e.BQk())}function T(t,m){1&t&&(e.ynx(0),e.TgZ(1,"span",21),e._uU(2," L\xfctfen bekleyiniz... "),e._UZ(3,"span",22),e.qZA(),e.BQk()),2&t&&(e.xp6(1),e.Udp("display","block"))}let x=(()=>{class t{constructor(s,n,y,S){this.fb=s,this.companyService=n,this.toastrService=y,this.router=S,this.isLoadingSubject=new l.X(!1),this.isLoading$=this.isLoadingSubject.asObservable()}ngOnInit(){this.createCompanyForm=this.fb.group({name:["",a.kI.required],phone:["",a.kI.required],taxNumber:["",a.kI.required],taxOffice:["",a.kI.required],queryPrice:[0,a.kI.required],isActive:[!0,a.kI.required]})}createCompany(){this.isLoadingSubject.next(!0),this.message="",this.createCompanyForm.valid?(console.log(this.createCompanyForm.value),this.companyService.createCompany(this.createCompanyForm.value).subscribe(s=>{this.toastrService.success("\u0130\u015flem Ba\u015far\u0131l\u0131"),this.isLoadingSubject.next(!1),this.router.navigate(["/companies"])},s=>{s.error.messages.forEach(n=>{this.message+=n+". "}),this.toastrService.error(this.message,"Hata"),this.isLoadingSubject.next(!1)})):(this.toastrService.warning("Formu Kontrol Ediniz","Uyar\u0131"),this.isLoadingSubject.next(!1))}}return t.\u0275fac=function(s){return new(s||t)(e.Y36(a.qu),e.Y36(g.J),e.Y36(u._W),e.Y36(h.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-company-create"]],decls:51,vars:15,consts:[["id","kt_profile_details_view",1,"card","mb-5","mb-xl-12"],[1,"card-header","cursor-pointer"],[1,"card-title","m-0"],[1,"fw-bolder","m-0"],["novalidate","novalidate",1,"form","col-lg-12","mx-auto",3,"formGroup"],[1,"card-body","p-9"],[1,"row"],[1,"col-lg-6","mb-5","fv-row"],["appearance","fill",1,"example-full-width"],["type","text","matInput","","name","name","formControlName","name"],[4,"ngIf"],["type","text","matInput","","name","phone","formControlName","phone"],["type","text","matInput","","name","taxNumber","formControlName","taxNumber"],["type","text","matInput","","name","taxOffice","formControlName","taxOffice"],["type","number","matInput","","name","queryPrice","formControlName","queryPrice"],[1,"col-lg-6","mb-5","fv-row",2,"align-self","center"],[1,"form-check","form-switch","form-check-custom"],["formControlName","isActive","type","checkbox","value","true",1,"form-check-input","ng-valid","ng-dirty","ng-touched"],[1,"form-check-label"],[1,"card-footer","d-flex","justify-content-end","py-6","px-9"],["type","button",1,"btn","btn-sm","btn-success",3,"disabled","click"],["clas","indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(s,n){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4,"Firma Ekle"),e.qZA()()(),e.TgZ(5,"form",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"mat-form-field",8)(10,"mat-label"),e._uU(11,"Ad"),e.qZA(),e._UZ(12,"input",9),e.YNc(13,o,4,0,"mat-error",10),e.qZA()(),e.TgZ(14,"div",7)(15,"mat-form-field",8)(16,"mat-label"),e._uU(17,"Telefon"),e.qZA(),e._UZ(18,"input",11),e.YNc(19,p,4,0,"mat-error",10),e.qZA()(),e.TgZ(20,"div",7)(21,"mat-form-field",8)(22,"mat-label"),e._uU(23,"Vergi Numaras\u0131"),e.qZA(),e._UZ(24,"input",12),e.YNc(25,d,4,0,"mat-error",10),e.qZA()(),e.TgZ(26,"div",7)(27,"mat-form-field",8)(28,"mat-label"),e._uU(29,"Vergi Adresi"),e.qZA(),e._UZ(30,"input",13),e.YNc(31,Z,4,0,"mat-error",10),e.qZA()(),e.TgZ(32,"div",7)(33,"mat-form-field",8)(34,"mat-label"),e._uU(35,"Sorgu \xdccreti"),e.qZA(),e._UZ(36,"input",14),e.YNc(37,U,4,0,"mat-error",10),e.qZA()(),e._UZ(38,"br"),e.TgZ(39,"div",15)(40,"label",16),e._UZ(41,"input",17),e.TgZ(42,"span",18),e._uU(43,"Aktif / Pasif"),e.qZA()()()()(),e.TgZ(44,"div",19)(45,"button",20),e.NdJ("click",function(){return n.createCompany()}),e.ALo(46,"async"),e.YNc(47,A,2,0,"ng-container",10),e.ALo(48,"async"),e.YNc(49,T,4,2,"ng-container",10),e.ALo(50,"async"),e.qZA()()()()),2&s&&(e.xp6(5),e.Q6J("formGroup",n.createCompanyForm),e.xp6(8),e.Q6J("ngIf",n.createCompanyForm.controls.name.hasError("required")),e.xp6(6),e.Q6J("ngIf",n.createCompanyForm.controls.phone.hasError("required")),e.xp6(6),e.Q6J("ngIf",n.createCompanyForm.controls.taxNumber.hasError("required")),e.xp6(6),e.Q6J("ngIf",n.createCompanyForm.controls.taxOffice.hasError("required")),e.xp6(6),e.Q6J("ngIf",n.createCompanyForm.controls.queryPrice.hasError("required")),e.xp6(8),e.Q6J("disabled",n.createCompanyForm.invalid||e.lcZ(46,9,n.isLoading$)),e.xp6(2),e.Q6J("ngIf",!e.lcZ(48,11,n.isLoading$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(50,13,n.isLoading$)))},dependencies:[c.O5,a._Y,a.Fj,a.wV,a.Wl,a.JJ,a.JL,a.sg,a.u,i.TO,i.KE,i.hX,C.Nt,c.Ov],encapsulation:2}),t})();var b=r(520),_=r(4964),I=r(4619),L=r(4102),E=r(5245);let N=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez,h.Bz.forChild([{path:"",component:x}]),a.u5,a.UX,b.JF,_.Z,I.vi,i.lN,C.c,L.LD,E.Ps]}),t})()}}]);